{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport BlogList from '../components/BlogList';\nimport matter from 'gray-matter';\n\nfunction blogs(props) {\n  return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n    className: \"block\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"h1\", {\n    className: \"blue \"\n  }, \"Read My Blog Posts\")), __jsx(\"div\", {\n    className: \"container\",\n    style: {\n      marginTop: '2em',\n      justifyContent: 'flex-start'\n    }\n  }, __jsx(BlogList, {\n    allBlogs: props.allBlogs\n  })))));\n}\n\nblogs.getInitialProps = function _callee() {\n  var posts;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          // get all .md files from the src/posts dir\n          posts = function (context) {\n            // grab all the files matching this context\n            var keys = context.keys(); // grab the values from these files\n\n            var values = keys.map(context); // go through each file\n\n            var data = keys.map(function (key, index) {\n              // Create slug from filename\n              var slug = key.replace(/^.*[\\\\\\/]/, '').split('.').slice(0, -1).join('.'); // get the current file value\n\n              var value = values[index]; // Parse frontmatter & markdownbody for the current file\n\n              var document = matter(value[\"default\"]); // return the .md content & pretty slug\n\n              return {\n                document: document,\n                slug: slug\n              };\n            }); // return all the posts\n\n            return data;\n          }(require.context('../posts', true, /\\.md$/));\n\n          return _context.abrupt(\"return\", {\n            allBlogs: posts\n          });\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default blogs;","map":null,"metadata":{},"sourceType":"module"}